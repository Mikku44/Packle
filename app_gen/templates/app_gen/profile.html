{% extends "app_gen/components/base_profile.html" %}
{% block profile %}
<style>
  dialog {
    margin: 0;

    width: 100wv;
  }

  [type=text] {
    background-color: unset;
    border: 0;
    padding: 0;

  }

  [type=text]:focus {
    border-bottom: 1px solid black;
    border: 0;
  }


  .cover {
    background: url(https://images.unsplash.com/photo-1575408264798-b50b252663e6?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1053&q=80);
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    z-index: 0;
  }

  .cover::before {
    background: linear-gradient(180deg, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.782));
    position: absolute;
    z-index: -1;
    content: '';
    width: 100%;
    height: 100vh;
    transform: scale3d(1.5, 1.5, 1.5);
  }
</style>
{% if request.session.status != True %}
<!-- <span class="inline-flex items-center rounded-full  w-full bg-red-600/50 px-5 py-5 text-xs font-medium text-white ring-2 ring-offset-30 ring-red-600/20  ">Please <a href="# " class="underline px-1"> confirm your E-mail address </a> to use full options.</span> -->
{% endif %}
<div class="flex gap-3 bg-black p-5 rounded-3xl my-2 h-1/6 items-center overflow-hidden relative cover">

  <div class="bg-black overflow-hidden w-28  h-28 rounded-full"><img src="{{ pic }}" alt=""></div>
  <div>
    <div class="flex justify-start group gap-5 items-center">
      <!-- <div class="text-2xl bg-none name">{{ request.session.username }}</div> -->
      <form action="">
        <div><input type="text" value="{{ username }}" class="text-2xl ring-0 w-28" readonly></div>
      </form>
      <button onclick="rename()" type="button"
        class="name opacity-0 duration-150 cursor-pointer group-hover:opacity-100 group-hover:block p-2 bg-gray-400 rounded-full ">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
          class="w-4 h-4">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125" />
        </svg>
      </button>
      <button class="name" hidden onclick="rename()">Cancel</button>
      <script>
        function rename() {
          x = document.getElementsByClassName("name");
          for (let i = 0; i < x.length; i += 1) {
            x[i].toggleAttribute('hidden');
          }
        }
      </script>

    </div>
    <div>{{ email }}</div>
    {% if username == request.session.username %}
   
        <div class="ring-2 w-24 text-center rounded-md ring-gray-400 my-2" >{{ request.session.role }}</div>
    {% else %}
        <div class="p-2 hover:bg-green-600 duration-150 w-24 text-center cursor-pointer bg-green-500 rounded-md my-2">Follow</div>
    {% endif %}

    

  </div>
</div>

{% endblock %}
{% block title %}
<div>Generated</div>
<a href="/generator">
  <div
    class="text-sm duration-200 hover:bg-slate-700 shadow-lg bg-slate-800 p-3 px-5 rounded-lg flex items-center gap-2">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"
      class="w-6 h-6">
      <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
    </svg>
    New generate
  </div>
</a>{% endblock %}
{% block content %}

<script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.6.5/flowbite.min.js"></script>


<div class="grid grid-cols-2 md:grid-cols-4 mb-96 gap-4 z-0">

  {% for image in img %}

  

  <div class="grid gap-4 relative">
    
    <a href="/profile/generated/{{ image.gen.gen_id }}">
      <button data-modal-target="defaultModal" data-modal-toggle="defaultModal" >
        <img class="h-auto max-w-full rounded-lg hover:scale-105 duration-150 hover:shadow-md"
          src={{ image.gen.gen_source }} />
      </button>
    </a>

    
    {% if empty %}
    Not image was generated
    {% endif %}
  </div>
  
  {% endfor %}

 

 
  
 
  
  {% comment %}TODO modal {% endcomment %}

  <dialog id="fullscreen"
    class="fixed bg-black/50 top-0  left-0 right-0 z-50  w-full  p-4 overflow-x-hidden overflow-y-auto md:inset-0 h-[calc(100%-1rem)] h-full">
    <div class="flex  items-center justify-center">
      <!-- Modal content -->

      <img class="h-auto max-w-full rounded-lg "
        src="https://flowbite.s3.amazonaws.com/docs/gallery/masonry/image-11.jpg" alt="" />


    </div>
  </dialog>
  {% comment %}TODO endmodal {% endcomment %}

</div>
</div>

{% endblock %}